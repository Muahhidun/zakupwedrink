#!/usr/bin/env python3
"""
ะะฐะฟะพะปะฝะตะฝะธะต SQLite ะฑะฐะทั ะดะฐะฝะฝัั ัะตะฐะปัะฝัะผะธ ัะพะฒะฐัะฐะผะธ WeDrink.
ะะฐะฟััะบะฐะตััั ะพะดะธะฝ ัะฐะท ะฟะตัะตะด ััะฐััะพะผ ะฒะตะฑ-ัะตัะฒะตัะฐ.
"""
import asyncio
import sys
import os

# ะะพะฑะฐะฒะปัะตะผ ะบะพัะตะฝั ะฟัะพะตะบัะฐ ะฒ ะฟััั
sys.path.insert(0, os.path.dirname(__file__))

from database import Database


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ะะพะปะฝัะน ัะฟะธัะพะบ ัะพะฒะฐัะพะฒ (ะฐะบััะฐะปัะฝัะน ะบะฐัะฐะปะพะณ)
# ะคะพัะผะฐั: (name_chinese, name_russian, name_internal, pkg_weight, units_per_box, price_per_box, unit)
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
PRODUCTS = [
    # โโโโโ ะะฝะณัะตะดะธะตะฝัั โโโโโ
    ("่ๆๆณฅ", "ะะฐะฝะณะพ ะฟััะตัั", "ะะฐะฝะณะพะฒะพะต ะฟััะต 1.2ะบะณ*12ัั", 1.2, 12, 36000.0, "ะบะณ"),
    ("ๆกๆณฅ", "ะจะฐะฑะดะฐะปั ะฟััะตัั", "ะะตััะธะบะพะฒะพะต ะฟััะต 1.2ะบะณ*12ัั", 1.2, 12, 36000.0, "ะบะณ"),
    ("ๆฉๆฑ", "ะะฟะตะปััะธะฝ ะบะพะฝัะตะฝััะฐัั", "ะะฟะตะปััะธะฝะพะฒัะน ะบะพะฝัะตะฝััะฐั 2.6ะบะณ*8ัั", 2.6, 8, 50000.0, "ะบะณ"),
    ("่ฆ็ๅญๆฑ", "ะขะฐาฃาััะฐะน ััััะฝั", "ะะฐะปะธะฝะฐ ัะพะบ 2.6ะบะณ*8ัั", 2.6, 8, 42000.0, "ะบะณ"),
    ("่ก่ๆฑ", "ะาฏะทัะผ ััััะฝั", "ะะธะฝะพะณัะฐะดะฝัะน ัะพะบ 2.6ะบะณ*8ัั", 2.6, 8, 45000.0, "ะบะณ"),
    ("็ฝ่ฃ่ก่", "ะะพะฝัะตัะฒัะปะตะฝะณะตะฝ ะถาฏะทัะผ", "ะะธะฝะพะณัะฐะด ะบะพะฝัะตัะฒะธัะพะฒะฐะฝะฝัะน 0.85ะบะณ*12ัั", 0.85, 12, 28000.0, "ะบะณ"),
    ("่ก่ๆ", "ะัะตะนะฟัััั", "ะัะตะนะฟัััั 0.85ะบะณ*12ัั", 0.85, 12, 26000.0, "ะบะณ"),
    ("ๆฟ้", "ะะฐััะต", "ะะฐััะต 1ะบะณ*20ัั", 1.0, 20, 60000.0, "ะบะณ"),
    ("ๆจๆ็้ฒ", "ะฏะฝัะถะธ ะะฐะฝะปั", "ะฏะฝัะถะธ ะะฐะฝะปั 1ะบะณ*20ัั", 1.0, 20, 55000.0, "ะบะณ"),
    ("็พ้ฆๆๆฑ", "ะะฐัะฐะบัะนั ะบะพะฝัะตะฝััะฐัั", "ะะฐัะฐะบัะนั ะบะพะฝัะตะฝััะฐั 2ะบะณ*6ัั", 2.0, 6, 38000.0, "ะบะณ"),
    ("ๆฐดๆ็ณๆต", "ะะตะผัััะตั ัะตัะฑะตัั", "ะกะธัะพะฟ ัััะบัะพะฒัะน 12.5ะบะณ*2ัั", 12.5, 2, 45000.0, "ะบะณ"),
    ("ๆคฐ่", "ะะพะบะพั าฏะณัะฝะดััั", "ะะพะบะพัะพะฒัะต ะบััะพัะบะธ 2.5ะบะณ*8ัั", 2.5, 8, 15500.0, "ะบะณ"),
    ("ๆจ่ฏ็ฒ", "ะขะฐะฟะธะพะบะฐ", "ะขะฐะฟะธะพะบะฐ 1ะบะณ*20ัั", 1.0, 20, 25000.0, "ะบะณ"),
    ("่ๅท็ญ", "ะฅััััััะธะต ัะพะถะบะธ", "ะฅััััััะธะต ัะพะถะบะธ 400ัั", 0.5, 16, 10937.5, "ัั"),
    ("ๅฅถๆ็ฒ(้ฆ่)", "ะะฐะปะผาฑะทะดะฐา (ัาฏััั)", "ะะพัะพะถะตะฝะพะต (ัะปะธะฒะพัะฝะพะต) 3ะบะณ*8ัั", 3.0, 8, 68000.0, "ะบะณ"),
    ("ๅฅถๆ็ฒ(ๅทงๅๅ)", "ะะฐะปะผาฑะทะดะฐา (ัะพะบะพะปะฐะดัั)", "ะะพัะพะถะตะฝะพะต (ัะพะบะพะปะฐะดะฝะพะต) 3ะบะณ*8ัั", 3.0, 8, 71250.0, "ะบะณ"),
    ("ๅฅถๆ็ฒ(ๆน่ถ)", "ะะฐะปะผาฑะทะดะฐา (ะผะฐััะฐ)", "ะะพัะพะถะตะฝะพะต (ะผะฐััะฐ) 3ะบะณ*8ัั", 3.0, 8, 68000.0, "ะบะณ"),
    ("ๅฅถ่ถไผดไพฃ", "ะจะฐะน ัะตััะบัะตัั", "ะะพะผะฟะฐะฝัะพะฝ ะดะปั ัะฐั 3ะบะณ*8ัั", 3.0, 8, 58000.0, "ะบะณ"),
    ("ๆๅณ่่", "ะะตะผัััั ะฑะฐะป", "ะคััะบัะพะฒัะน ะผะตะด 5.5ะบะณ*4ัั", 5.5, 4, 32000.0, "ะบะณ"),
    ("ๅธไธ็ฒ", "ะัะดะธะฝะณ าฑะฝัะฐาั", "ะะพัะพัะพะบ ะดะปั ะฟัะดะธะฝะณะฐ 1ะบะณ*20ัั", 1.0, 20, 28000.0, "ะบะณ"),
    ("้ป็ณ", "าะฐัะฐ าะฐะฝั", "ะงะตัะฝัะน ัะฐัะฐั 2.5ะบะณ*8ัั", 2.5, 8, 22000.0, "ะบะณ"),
    ("ๅทงๅๅ็ณๆต", "ะจะพะบะพะปะฐะด ัะตัะฑะตัั", "ะจะพะบะพะปะฐะดะฝัะน ัะธัะพะฟ 2.5ะบะณ*8ัั", 2.5, 8, 18000.0, "ะบะณ"),
    ("่่ๆฑ", "าาฑะปะฟัะฝะฐะน ะบะพะฝัะตะฝััะฐัั", "ะะปัะฑะฝะธัะฝัะน ะบะพะฝัะตะฝััะฐั 2ะบะณ*6ัั", 2.0, 6, 35000.0, "ะบะณ"),
    ("่่ๆฑ", "ะำฉะบะถะธะดะตะบ ะบะพะฝัะตะฝััะฐัั", "ะงะตัะฝะธัะฝัะน ะบะพะฝัะตะฝััะฐั 2ะบะณ*6ัั", 2.0, 6, 35000.0, "ะบะณ"),
    ("ๆกๅญๆๅป", "ะจะฐะฑะดะฐะปั ะถะตะปะตัั", "ะะตััะธะบะพะฒะพะต ะถะตะปะต 1ะป*10ัั", 1.0, 10, 22000.0, "ะป"),
    ("่ธ่ฑ", "ะาฑััะฐา", "ะคะฐัะพะปั 0.9ะบะณ*12ัั", 0.9, 12, 18000.0, "ะบะณ"),
    ("ๅกๅธๅฅ่ฏบ", "ะะฐะฟััะธะฝะพ", "ะะฐะฟะฟััะธะฝะพ 1ะบะณ*20ัั", 1.0, 20, 52000.0, "ะบะณ"),
    ("่่่ฑ่ถ", "ะะฐัะผะธะฝ ัะฐะนั", "ะะฐัะผะธะฝะพะฒัะน ัะฐะน 50ะณ*160ัั", 0.05, 160, 28000.0, "ะบะณ"),
    ("็บข่ถ", "าะฐัะฐ ัะฐะน", "ะงะตัะฝัะน ัะฐะน 100ะณ*120ัั", 0.1, 120, 22000.0, "ะบะณ"),
    ("ๆถ็", "ะะตะปะต ัะฐัะปะฐัั", "ะะตะปะต ัะฐัั 1ะบะณ*20ัั", 1.0, 20, 25000.0, "ะบะณ"),
    ("ๅๅก่ฑ", "ะะพัะต ะดำะฝะดะตัั", "ะะพัะต ะทะตัะฝะฐ 500ะณ*20ัั", 0.5, 20, 115000.0, "ะบะณ"),
    ("่ไป็ฒ", "ะะฐัะปะธ าฑะฝัะฐาั", "ะะพัะพัะพะบ ะดะปั ะฒะฐัะตะปั 1.5ะบะณ*8ัั", 1.5, 8, 22000.0, "ะบะณ"),
    ("ๆคฐไนณ", "ะะพะบะพั ัาฏัั", "ะะพะบะพัะพะฒะพะต ะผะพะปะพะบะพ 1ะป*12ัั", 1.0, 12, 13500.0, "ะป"),
    # โโโโโ ะฃะฟะฐะบะพะฒะบะฐ โโโโโ
    ("500mlๆฏ", "ะกัะฐะบะฐะฝ 500ะผะป", "ะกัะฐะบะฐะฝ 500 (1000ัั/ะบะพั)", 0.02, 1000, 22000.0, "ัั"),
    ("700mlๆฏ", "ะกัะฐะบะฐะฝ 700ะผะป", "ะกัะฐะบะฐะฝ 700 (1000ัั/ะบะพั)", 0.025, 1000, 24000.0, "ัั"),
    ("900mlๆฏ", "ะกัะฐะบะฐะฝ 900ะผะป", "ะกัะฐะบะฐะฝ ะฑะพะปััะพะน 900ะผะป (200ัั/ะบะพั)", 0.04, 200, 18000.0, "ัั"),
    ("Uๅๆฏ", "ะกัะฐะบะฐะฝ U-ะพะฑัะฐะทะฝัะน", "ะกัะฐะบะฐะฝ U (1000ัั/ะบะพั)", 0.022, 1000, 23000.0, "ัั"),
    ("็ฒ็บธๅธ็ฎก", "ะัะฐะฝ าะฐาะฐะท ัะฐะฑะฐะฝ", "ะขะพะปัััะต ัััะฑะพัะบะธ (4000ัั/ะบะพั)", 0.005, 4000, 12000.0, "ัั"),
    ("็ป็บธๅธ็ฎก", "ะัาฃััะบะต าะฐาะฐะท ัะฐะฑะฐะฝ", "ะขะพะฝะบะธะต ัััะฑะพัะบะธ (5000ัั/ะบะพั)", 0.004, 5000, 10000.0, "ัั"),
    ("ๅ้กถ็90", "ะาฏะผะฑะตะท าะฐาะฟะฐา", "ะัััะบะฐ ะบัะฟะพะปัะฝะฐั (2000ัั/ะบะพั)", 0.01, 2000, 14000.0, "ัั"),
    ("ๅคง้ฟๅบ(้ป)", "าฎะปะบะตะฝ าะฐััา (าะฐัะฐ)", "ะะพะถะบะฐ ะฑะพะปััะฐั (ัะตัะฝะฐั) (2000ัั/ะบะพั)", 0.008, 2000, 30000.0, "ัั"),
    ("ๅฐๅบ(็ฝ)", "ะััะบะตะฝัะฐะน าะฐััา (ะฐา)", "ะะพะถะบะฐ ะผะฐะปะตะฝัะบะฐั (ะฑะตะปะฐั) (1000ัั/ะบะพั)", 0.005, 1000, 8000.0, "ัั"),
    ("ๅฐๅฃ่", "ะะฐะฑั ะฟะปะตะฝะบะฐัั", "ะะปัะฝะบะฐ ะดะปั ะทะฐะฟะฐะนะบะธ (12ััะป/ะบะพั)", 0.5, 12, 18000.0, "ััะป"),
    ("ๅๆฏ่ข", "ะัั ััะฐะบะฐะฝ ะดะพัะฑะฐ", "ะะฐะบะตั 1 ัะฐัะบะฐ (10000ัั/ะบะพั)", 0.003, 10000, 16000.0, "ัั"),
    ("ๅๆฏ่ข", "ะะบั ััะฐะบะฐะฝ ะดะพัะฑะฐ", "ะะฐะบะตั 2 ัะฐัะบะธ (5000ัั/ะบะพั)", 0.005, 5000, 14000.0, "ัั"),
    ("ๅๆฏ่ข", "ะขำฉัั ััะฐะบะฐะฝ ะดะพัะฑะฐ", "ะะฐะบะตั 4 ัะฐัะบะธ (3000ัั/ะบะพั)", 0.008, 3000, 13000.0, "ัั"),
    ("็บธๆฏ", "าะฐาะฐะท ััะฐะบะฐะฝ", "ะัะผะฐะถะฝัะน ััะฐะบะฐะฝ (500ัั/ะบะพั)", 0.03, 500, 15000.0, "ัั"),
    ("90ๅก็", "ะะปะฐััะธะบ าะฐาะฟะฐา 90", "ะัััะบะฐ 90 ะฟะปะฐััะธะบ (1000ัั/ะบะพั)", 0.008, 1000, 10000.0, "ัั"),
]


async def seed():
    db_path = os.getenv('DATABASE_PATH', 'wedrink.db')
    db = Database(db_path)
    await db.init_db()

    existing = await db.get_all_products()
    existing_names = {p['name_internal'] for p in existing}

    added = 0
    skipped = 0
    for (nc, nr, ni, pw, upb, ppb, unit) in PRODUCTS:
        if ni in existing_names:
            skipped += 1
            continue
        await db.add_product(
            name_chinese=nc,
            name_russian=nr,
            name_internal=ni,
            package_weight=pw,
            units_per_box=upb,
            price_per_box=ppb,
            unit=unit,
        )
        print(f"  โ {ni}")
        added += 1

    print(f"\n๐ฆ ะะพะฑะฐะฒะปะตะฝะพ: {added} | ะัะพะฟััะตะฝะพ (ัะถะต ะตััั): {skipped}")
    print(f"โ ะัะพะณะพ ะฒ ะฑะฐะทะต: {len(existing_names) + added} ัะพะฒะฐัะพะฒ")


if __name__ == '__main__':
    print("๐ฑ ะะฐะฟะพะปะฝะตะฝะธะต ะฑะฐะทั ะดะฐะฝะฝัั ัะพะฒะฐัะฐะผะธ WeDrink...\n")
    asyncio.run(seed())
    print("\n๐ ะะพัะพะฒะพ! ะขะตะฟะตัั ะผะพะถะฝะพ ะทะฐะฟัััะธัั ัะตัะฒะตั.")
